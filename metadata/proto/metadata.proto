syntax = "proto3";

option go_package = "proto";

service Metadata {
    rpc SyncMetadata(SyncMetadataRequest) returns (SyncMetadataResponse) {}
    rpc ListMetadata(ListMetadataRequest) returns (ListMetadataResponse) {}
}

message MetadataDetail {
    string project_id = 1;
    string user_id = 2;
    string type = 3;
}

message SyncMetadataRequest {
    string id = 1;
}

message ListMetadataRequest {
    // the number of records at max which can be there in response
    int32 limit = 1;
    // the index of the first record to be returned
    int32 offset = 2;
    //used to denote the type of cloud provider
    string type = 3;
    //name of the backend
    string backendName = 4;
    string region = 5;
    // name of the bucket
    string bucketName = 6;
    // name of the object
    string objectName = 7;
    // the size of the object in <operator integer  unit> where operator is eq, gte,gt,lte,lt and unit is KB,MB,GB and integer is always not less than zero
    string sizeOfObject = 8;
    // the size of the bucket in <operator integer  unit> where operator is eq, gte,gt,lte,lt and unit is KB,MB,GB and integer is always not less than zero
    string sizeOfBucket = 9;
}

message SyncMetadataResponse {
    repeated MetadataDetail MetadataDetail = 1;
}

message ListMetadataResponse {
    repeated Bucket buckets = 1;
}

message Bucket {
    //The uuid of the bucket.
    string id = 1;
    // The createdAt representing the server time when the bucket was created.
    string creationDate = 2;
    // The updatedAt representing the server time when the bucket was updated.
    string updationDate = 3;
    // The name of the bucket.
    string name = 4;
    string type = 5;
    string region = 6;
    string tags = 7;
}